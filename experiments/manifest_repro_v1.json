{
  "manifest_version": "2026-02-08.v2",
  "decision_ref": "docs/decision_log.md#2026-02-08---speed-optimization-batch64-num_workers4",
  "seed": 42,
  "runtime_policy": {
    "full_epochs": 50,
    "kd_after_teacher_gap_gate_only": true,
    "preprocess_batch_size": 128,
    "preprocess_compression": "none",
    "preprocess_compression_level": 1
  },
  "class_weights": "1.0,1.5,5.5",
  "cache_dir": "results/cache/spectrograms",
  "output_csv": "results/leaderboard.csv",
  "steps_csv": "results/run_steps.csv",
  "common_train": {
    "epochs": 50,
    "batch_size": 64,
    "num_workers": 4,
    "lr": 0.001,
    "weight_decay": 0.00001,
    "early_stop_patience": 5,
    "early_stop_min_delta": 0.0,
    "sr": 16000,
    "n_mels": 64,
    "rnn_hidden": 64,
    "rnn_layers": 2,
    "grad_clip": 0.0,
    "att_mode": "cbam"
  },
  "baseline": {
    "models": [
      "crnn",
      "tinycnn"
    ],
    "cbam_models": [
      "tinycnn_cbam"
    ],
    "cbam_reduction_values": [
      4,
      8,
      16
    ],
    "cbam_sa_kernel_values": [
      3,
      7,
      11
    ]
  },
  "teacher_gate": {
    "teacher_model": "crnn",
    "teacher_base_run_name": "p1_crnn_seed42",
    "student_pool_models": [
      "tinycnn",
      "tinycnn_cbam"
    ],
    "min_f1_gap": 0.03,
    "tune_teacher_if_gap_below": true,
    "teacher_tuning": {
      "lr_values": [
        0.002,
        0.001,
        0.0005
      ],
      "weight_decay_values": [
        0.00001,
        0.0001,
        0.0005
      ],
      "grad_clip_values": [
        0.0,
        0.5
      ]
    }
  },
  "kd": {
    "teacher_model": "crnn",
    "students": [
      "tinycnn",
      "tinycnn_cbam"
    ],
    "alphas": [
      0.0,
      0.3,
      0.6,
      0.9
    ],
    "temperatures": [
      3.0,
      4.0,
      5.0
    ],
    "epochs": 50,
    "batch_size": 64,
    "num_workers": 4,
    "lr": 0.001,
    "weight_decay": 0.00001,
    "early_stop_patience": 5,
    "early_stop_min_delta": 0.0
  }
}
